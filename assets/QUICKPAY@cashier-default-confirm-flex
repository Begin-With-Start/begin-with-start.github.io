{"data":{"children":[{"children":[{"src":"AlipaySDK.bundle/amc.i18n","tag":"meta","type":"i18n"},{"src":"AlipaySDK.bundle/amc.js","tag":"script"},{"src":"AlipaySDK.bundle/amc-usq.js","tag":"script"},{"src":"./amc.js","tag":"script"},{"rel":"stylesheet","tag":"link","href":"AlipaySDK.bundle/amc.css"},{"children":[{"tag":"text","text":"var rpc=amc.rpcData;var getTag=amc.fn.getById;var hide=amc.fn.hide;var show=amc.fn.show;var create=amc.fn.create;function init(){try{initUI();amc.fn.setResult&&amc.fn.setResult({isDisplayResult:true,doNotExit:true});if(amc.fn.logPageInit){amc.fn.logPageInit(true)}}catch(a){if(amc.fn.logPageInit){amc.fn.logPageInit()}}}function initNav(){var a=amc.path+\"alipay_msp_i_logo\";var b=amc.fn.iNav(amc.res.close,\"{{pay_detail}}\",null,null,onClose,null,a);b.id=\"iNav\";getTag(\"body\").insertBefore(b,getTag(\"iLine\"));getTag(\"iNavImgM\")&&(getTag(\"iNavImgM\").alt=\"{{alipay}}\")}function initUI(){initNav();if(rpc.cost){var h=getTag(\"totalCost\");var g=rpc.cost||\"\";getTag(\"totalCostImg\").src=amc.path+\"alipay_msp_rmb\";if(amc.isIOS){getTag(\"totalCostImg\").style.marginTop=\"-2px\"}h.innerText=g;h.style.maxWidth=window.innerWidth-(30+30);amc.fn.show(\"totalCostBox\")}getTag(\"confirmLabel\").innerText=\"{{pay_right_now}}\";var e=amc.specs.bottomHeight||0;var f=amc.specs.iBodyHeight-amc.specs.iNavHeight-72-e;if(rpc.payTool){createPayment(rpc.payTool,rpc.redPoint,rpc.channels);f-=45}getTag(\"scrollableBox\").style.maxHeight=f;for(var b=0;rpc.detail&&b<rpc.detail.length;b++){var d=rpc.detail[b];createDetail(d.info,d.price,d.isDiscount)}if(rpc.product){createDetail(rpc.order||\"{{order_info}}\",rpc.product)}if(rpc.gonggao){var c=create(\"div\");c.className=\"amc-marquee amc-pd-lr\";var a=amc.fn.getMarquee(rpc.gonggao);c.appendChild(a);a.style.width=window.innerWidth-(amc.isPlus?40:30);getTag(\"body\").insertBefore(c,getTag(\"iNav\"));getTag(\"body\").style.height=(amc.specs.iBodyHeight+amc.specs.marqueeHeight)+\"px\"}}function calculateFontWidth(d){if(!d){return 0}var b=0;var c=/^[A-Za-z0-9\\.\\(\\)]*$/;for(var a=0;a<d.length;a++){if(c.test(d[a])){b+=0.45}else{b++}}return Math.round(b)}function substrWithFontWidth(h,e,g){if(!h){return h}var j=\"\";var f=0;var a=h.length;for(var c=0;c<a;c++){var b=g?h[a-c-1]:h[c];var d=/^[A-Za-z0-9\\(\\)]*$/;if(d.test(b)){f+=0.45}else{f++}j+=b;if(f>e-1){break}}return j}function createPayment(d,b,m){if(!d){return}if(!m){b=false}var c=getTag(\"anchoredBox\");amc.fn.show(\"anchoredBox\");var l=create(\"div\",\"item-box amc-align-center\",c);var i=create(\"div\",\"amc-1px-line margin-l\",c);var g=create(\"label\",\"info-text info-key\",l);g.style.maxWidth=\"72px\";g.innerText=\"{{pay_tool}}\";var a=\"info-text info-value amc-flex-1 amc-ellipsis\";if(shouldShowWithSmallerFont(d,b,m)){a=\"info-text-s info-value amc-flex-1 amc-ellipsis\";d=truncatePayment(d,b,m)}var f=create(\"label\",a,l);f.innerText=d||\"\";f.accessibilityTraits=\"Button\";if(b){var k=create(\"div\",\"red-point\",l);k.style.marginLeft=\"9px\"}if(m){var h=create(\"div\",\"img-box\",l);var e=create(\"img\",\"arrow-img\",h);e.src=amc.res.arrowRight;var j=create(\"img\",\"amc-hidden\",h);j.src=\"indicatior\";l.onclick=function(){hide(e);show(j);var n=rpc.channelAction?{action:rpc.channelAction}:{action:{name:\"/shakeCashier/switchChannel\",loadtxt:\"\"}};document.asyncSubmit(n,function(o){amc.fn.shouldShowBtnIndicator(o,e,j)})}}return l}function shouldShowWithSmallerFont(e,b,f){var d=window.innerWidth-30-72-(!!b+0)*17-(!!f+0)*17-5;var c=calculateFontWidth(e);var a=Math.floor(d/(16+1));return a<c}function truncatePayment(g,c,h){var f=window.innerWidth-30-72-(!!c+0)*17-(!!h+0)*17-5;var e=calculateFontWidth(g);var d=Math.floor(f/(14+1));if(d<e){var b=calculateFontWidth(g.substr(-9,g.length));var a=(substrWithFontWidth(g,d-b)||\"\").length;g=amc.fn.stringTruncate(g,a,9)}return g}function createDetail(d,f,b){if(!d&&!f){return}var e=create(\"div\",\"info-box amc-align-cetner\",getTag(\"scrollableBox\"));var c=null;if(d){c=create(\"label\",\"info-text info-key amc-ellipsis\"+(b?\" highlight\":\"\"),e);c.innerText=d}var g=null;if(f){g=create(\"label\",\"info-text info-value amc-flex-1 amc-ellipsis\"+(b?\" highlight\":\"\"),e);g.innerText=f}if(c&&g){var a=calculateFontWidth(f);if(a*(16+1)<((window.innerWidth-40)/2)){c.className+=\" amc-flex-1\";g.style.flex=\"0\"}else{c.className+=\" info-k-w-limit\"}}else{if(c){c.className+=\" amc-flex-1\"}else{if(g){g.style.marginLeft=\"40%\"}}}}function bypassData(){var a={pwd:{}};a.pwd[\"spasswordPay\"]=rpc.spasswordPay;a.pwd[\"payOrder\"]=true;a.pwd[\"nextAction\"]=\"/cashier/pay\";a.pwd[\"logon_id\"]=rpc.logon_id;return a}function gotoPwdArea(){var a=bypassData()||{};var b={};b.action={name:\"loc:bnvb\"};b.param={};b.param[\"data\"]=a.pwd;b.param[\"tplid\"]=\"QUICKPAY@open-pwd-check-flex\";b.param[\"tpl\"]=rpc.tpl;document.submit(b)}function onPay(){if(rpc.confirmDlg&&rpc.confirmDlg.msg&&rpc.confirmDlg.cancelTxt&&rpc.confirmDlg.confirmTxt){var a={message:rpc.confirmDlg.msg,okButton:rpc.confirmDlg.confirmTxt,cancelButton:rpc.confirmDlg.cancelTxt};document.confirm(a,function(b){if(b.ok){gotoPwdArea()}})}else{gotoPwdArea()}}function onClose(){amc.fn.exit()};"}],"tag":"script"},{"children":[{"tag":"text","text":".highlight {\n            color: #F15A4A;\n        }\n\n        .info-text {\n            font-size: 16px;\n        }\n\n        .info-text-s {\n            font-size: 14px;\n        }\n\n        .info-key {\n            color: #777;\n        }\n\n        .info-value {\n            text-align: right;\n            margin-left: 5px;\n        }\n\n        .info-box {\n            padding-bottom: 15px;\n        }\n\n        .info-k-w-limit {\n            max-width: 40%;\n        }\n\n        .pd-lr {\n            padding: 0 15px;\n        }\n\n        .top-pd {\n            height: 17px;\n        }\n\n        .btn-font {\n            font-size: 18px;\n        }\n\n        .btn-primary {\n            background-color: #108ee9;\n            border: 0;\n            border-radius: 5px;\n            color: #fff;\n            font-size: 18px;\n            height: 42px;\n            max-height: 42px;\n            min-height: 42px;\n            flex: 1.0;\n        }\n\n        .btn-primary:active {\n            background-color: #1284D6;\n            color: #fff;\n        }\n\n        .btn-primary:disabled {\n            background-color: #ebebf0;\n            color: #d2d2d2;\n        }\n\n        .bottom-box {\n            justify-content: flex-end;\n            flex: 1;\n        }\n\n        .pay-btn-box {\n            flex-direction: column;\n            overflow: hidden;\n            margin: 15px;\n            height: 42px;\n            min-height: 42px;\n            border-radius: 5px;\n            background-color: #108ee9;\n            justify-content: flex-end;\n        }\n\n        .pay-text {\n            font-size: 18px;\n            color: #fff;\n        }\n\n        .total-cost {\n            font-size: 36px;\n            max-height: 43px;\n        }\n\n        .total-cost-box {\n            height: 43px;\n            margin-bottom: 22px;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .total-cost-img {\n            height: 50px;\n        }\n\n        .shade {\n            background-color: #fff;\n            opacity: 0.90;\n            margin-top: -16px;\n            height: 16px;\n        }\n\n        .item-box {\n            height: 44px;\n            max-height: 44px;\n            min-height: 44px;\n            padding: 12px 15px;\n        }\n\n        .margin-l {\n            margin-left: 15px;\n        }\n\n        .red-point {\n            width: 8px;\n            height: 8px;\n            background-color: #ff0000;\n            border-radius: 5px;\n        }\n\n        .img-box {\n            width: 20px;\n            margin: 0 -8px 0 5px;\n            align-items: center;\n        }\n\n        .arrow-img {\n            margin-left: 4px;\n            width: 8px;\n            max-width: 8px;\n        }"}],"tag":"style"}],"tag":"head"},{"css":"amc-i-body","children":[{"css":"amc-1px-title-line","tag":"div","id":"iLine"},{},{"css":"amc-column-flex-1","children":[{},{"css":"amc-scroll pd-lr","children":[{},{"css":"top-pd","tag":"div"},{"css":"total-cost-box amc-hidden","children":[{"css":"total-cost-img","tag":"img","id":"totalCostImg"},{"css":"total-cost amc-text-center amc-ellipsis","tag":"label","id":"totalCost"}],"tag":"div","id":"totalCostBox"}],"tag":"div","id":"scrollableBox"},{},{"css":"shade","tag":"div"},{},{"css":"amc-v-box amc-hidden","children":[{"css":"amc-1px-line margin-l","tag":"div"}],"tag":"div","id":"anchoredBox"},{"css":"bottom-box amc-v-box","children":[{},{"css":"pay-btn-box","children":[{"css":"btn-font btn-primary amc-align-center amc-justify-center","children":[{"css":"btn-font btn-primary amc-align-center amc-justify-center","children":[{"css":"pay-text amc-flex-1 amc-text-center amc-ellipsis","children":[{"tag":"text","text":"{{pay_right_now}}"}],"tag":"label","id":"confirmLabel"}],"onclick":"onPay();","tag":"div","id":"btnConfirm"}],"tag":"div","id":"confirm"}],"tag":"div","id":"btnContainer"},{"css":"amc-iphone-x-pd-b","tag":"div"}],"tag":"div"}],"tag":"div","id":"cashier"}],"tag":"body","id":"body","onload":"init()"}],"tag":"html"},"publishVersion":"150924","name":"cashier-default-confirm-flex","format":"JSON","tag":"QUICKPAY","time":"0003","tplId":"QUICKPAY@cashier-default-confirm-flex","tplVersion":"5.2.8"}